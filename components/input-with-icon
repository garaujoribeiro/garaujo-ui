import * as React from "react";

import { cn } from "@/lib/utils";
import { Slot } from "@radix-ui/react-slot";

const InputAdornmentRoot = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return <div className={cn("relative", className)} ref={ref} {...props} />;
});

InputAdornmentRoot.displayName = "InputWithIconRoot";

const InputAdornment = React.forwardRef<
  HTMLElement,
  React.ComponentProps<"div"> & {
    position?: "start" | "end";
  }
>(({ className, children, position = "end", ...props }, ref) => {
  return (
    <Slot
      className={cn(
        "absolute right-3 top-1/2 transform -translate-y-1/2",
        position === "start" && "left-3",
        className
      )}
      ref={ref}
      {...props}
    >
      {children}
    </Slot>
  );
});

InputAdornment.displayName = "InputAdornment";

export { InputAdornmentRoot, InputAdornment };
